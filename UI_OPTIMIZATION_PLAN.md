# План оптимизации UI проекта Siesco KPI

Составлен на основе анализа архитектуры и дискуссии о приоритетах развития (29.12.2025).

## Фаза 1: Чистота кода (Cleanup & Tailwind) — Приоритет №1
**Цель:** Устранить визуальный шум в коде, упростить поддержку и модификацию стилей.

1.  **Удаление Inline-стилей:**
    *   Заменить конструкции `style={{ padding: '10px', backgroundColor: '#fff' }}` на утилитарные классы Tailwind CSS (напр. `p-2.5 bg-white`).
    *   Привести цветовую палитру к единым значениям Tailwind (slate, indigo, emerald и т.д.).

2.  **Выделение UI-компонентов:**
    *   Создать переиспользуемые микро-компоненты для повторяющихся элементов:
        *   `<StatusBadge status={...} />` — для отображения статусов задач.
        *   `<UserAvatar user={...} />` — для аватарок сотрудников.
        *   `<FilterSelect />` — унифицированный селект для фильтров.

## Фаза 2: Архитектура (Architecture & State) — Приоритет №2
**Цель:** Разделить логику и представление, убрать "prop drilling".

1.  **Custom Hooks (Разделение логики):**
    *   Вынести логику загрузки данных, фильтрации и обработки ошибок из компонентов (`BitrixTasks.tsx`, `TaskList.tsx`) в хуки:
        *   `useBitrixTasks()`
        *   `useInternalTasks()`
        *   `useRanking()`

2.  **State Management (Zustand):**
    *   Внедрить Zustand для управления глобальным состоянием:
        *   Данные текущего пользователя (`User`).
        *   Настройки приложения (`Language`, `Theme`).
        *   Глобальные справочники (`Statuses`, `Config`).

## Фаза 3: Надежность (Reliability & Testing) — Приоритет №3
**Цель:** Гарантировать точность расчетов KPI.

1.  **Unit-тесты логики:**
    *   Написать тесты для функций в `src/lib/` (хелперы), отвечающих за:
        *   Расчет рабочих часов.
        *   Вычитание отгулов.
        *   Формирование рейтингов.
    *   *Примечание:* Тестирование UI-компонентов и E2E тесты признаны избыточными на текущем этапе.

## Решения по технологиям (Rejected/Postponed)
*   **Ant Design:** Отклонено. Используем нативный стек (HTML + Tailwind) для легкости и контроля.
*   **Virtualization (react-window):** Отложено. Текущая производительность (до 1000 элементов) удовлетворительна. Внедрять только при жалобах на лаги.
